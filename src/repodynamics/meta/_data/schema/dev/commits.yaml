$schema: https://json-schema.org/draft/2020-12/schema
title: meta_dev_commits
description: Commit settings for the project

type: object
additionalProperties: false
properties:

  commit:
    type: object
    default: {}
    additionalProperties: false
    properties:

      primary:
        description: Primary commit types
        type: object
        default: {}
        properties:

          website:
            type: object
            default: {}
            additionalProperties: false
            properties:
              type:
                type: string
                default: web
              description:
                type: string
                default: Change the website content, design or backend.
              sub_types:
                $ref: '#/definitions/sub_types'
              announcement:
                type: object
                default: {}
                additionalProperties: false
                properties:
                  scope:
                    type: string
                    default: ""
                  changelog_id:
                    type: string
                    default: ""
                  changelog_section_id:
                    type: string
                    default: ""
                required: [ scope, changelog_id, changelog_section_id ]
            required: [ type, description, sub_types, announcement ]

        additionalProperties:
          type: object
          additionalProperties: false
          properties:
            type:
              type: string
            description:
              type: string
            sub_types:
              $ref: '#/definitions/sub_types'
          required: [ type, description, sub_types ]
        required:
          - package_major
          - package_minor
          - package_patch
          - package_post
          - website

      secondary:
        description: Secondary commit types
        type: object
        default: {}
        minProperties: 1
        additionalProperties:
          type: object
          additionalProperties: false
          properties:
            description:
              type: string
            changelog_id:
              type: string
            changelog_section_id:
              type: string
          required: [ description, changelog_id ]

      action:
        description: Action commit types
        type: object
        default: {}
        properties:
          meta-update:
            type: string
            default: meta-update
          revert:
            type: string
            default: revert
          auto-refactor:
            type: string
            default: auto-refactor
        required: [ meta-update, revert, auto-refactor ]
    required: [ primary, secondary, action ]


definitions:
  type: object
  properties:
    any:
      type: array
      items:
        type: string
      minItems: 1
      uniqueItems: true
    all:
      type: array
      items:
        type: string
      minItems: 1
      uniqueItems: true
    include:
      type: array
      items:
        type: string
      minItems: 1
      uniqueItems: true
    exclude:
      type: array
      items:
        type: string
      minItems: 1
      uniqueItems: true
  allOf:
    - anyOf:
        - required: [ any ]
        - required: [ all ]
    - not:
        anyOf:
          - required: [ include, exclude ]