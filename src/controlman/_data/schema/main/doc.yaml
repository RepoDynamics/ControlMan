$schema: https://json-schema.org/draft/2020-12/schema
type: object
required: [ theme ]
properties:
  theme:
    title: Configurations defining the visual theme of the project.
    type: object
    additionalProperties: false
    required: [ color ]
    properties:
      color:
        title: Colors of the project's theme.
        description: |
          All colors must be in hexadecimal format (without the leading `#` character).
        type: object
        required: [ primary, secondary ]
        properties:
          primary:
            title: Primary colors of the project.
            $ref: '#/definitions/color_config'
          secondary:
            title: Secondary colors of the project.
            $ref: '#/definitions/color_config'
      logo:
        title: Logo of the project.
        description: |
          All values must be filenames of files in the [media](#cc.dir.media) directory.
        type: object
        properties:
          icon:
            type: string
          simple:
            type: object
            properties:
              light:
                type: string
              dark:
                type: string
              raster:
                type: string
          full:
            type: object
            properties:
              light:
                type: string
              dark:
                type: string
              raster:
                type: string
      footer:
        title: Configurations of project's footer.
        description: |
          The footer is automatically added to the project's [README](#cc.readme) and
          [community health files](#cc.health).
        oneOf:
          - type: string
          - $ref: '#/definitions/readme_theme/pypackit/footer'
  announcement:
    title: Configurations of project announcements.
    type: object
    required: [ path, retention_days, url ]
    properties:
      path:
        title: Path to the announcement banner file.
        type: string
        default: ${{ dir.web.root }}/announcement.html
        examples:
          - docs/announcement.html
      retention_days:
        title: Number of days to keep an announcement.
        default: 30
        $ref: non_negative_integer
      url:
        title: URL to the announcement page.
        $ref: url
        default: ${{ repo.url.raw }}/${{ announcement.path }}
  health:
    title: |
      Configurations for 
      [community health files](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/creating-a-default-community-health-file).
    type: object
    default: { }
    additionalProperties: false
    properties:
      contributing:
        title: Contributing guidelines of the project.
        description: |
          This corresponds to the [`CONTRIBUTING`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/setting-guidelines-for-repository-contributors)
          file in the repository, which is automatically recognized by GitHub,
          and displayed on the repository's homepage,
          as well as when users create an issue or open a pull request.

          This file is used to communicate how people can contribute to the project,
          and may include information on how to report bugs, suggest enhancements,
          and submit code changes, as well as references to documentation, contact information,
          and other resources. We recommend to keep this file short,
          and only include links to resources on the project's website,
          as to avoid duplication of content.
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: |
              Path to the
              [`CONTRIBUTING`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/setting-guidelines-for-repository-contributors)
              file.
            description: |
              This file must be named `CONTRIBUTING` (case-insensitive)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository. It can have the extensions `.txt`, `.md`, or `.rst`.
            type: string
            default: CONTRIBUTING.md
            pattern: (?i)^(?:|.github/|docs/)CONTRIBUTING(?:.(txt|md|rst))?$
            examples:
              - CONTRIBUTING
              - CONTRIBUTING.md
              - contributing.rst
              - docs/CONTRIBUTING.txt
              - .github/contributing.md
          content:
            title: Content of the `CONTRIBUTING` file.
            type: string
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      governance:
        title: Governance model of the project.
        description: |
          This corresponds to the `GOVERNANCE`
          file in the repository, which is automatically recognized by GitHub,
          and displayed on the repository's homepage.

          This file is used to communicate how decisions are made in the project,
          and may include information on how the project is managed, how decisions are made,
          and how conflicts are resolved.
          We recommend to keep this file short,
          and only include links to resources on the project's website,
          as to avoid duplication of content.
        type: object
        additionalProperties: false
        properties:
          path:
            title: Path to the `GOVERNANCE` file.
            description: |
              This file must be named `GOVERNANCE` (case-sensitive)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository. 
              It can have the extensions `.txt`, `.md`, or `.rst` (case-insensitive).
            type: string
            pattern: ^(?:|.github/|docs/)GOVERNANCE(?i:.(txt|md|rst))?$
            default: GOVERNANCE.md
            examples:
              - GOVERNANCE
              - GOVERNANCE.md
              - docs/GOVERNANCE.txt
              - .github/GOVERNANCE.md
          content:
            title: Content of the `GOVERNANCE` file.
            type: string
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      security:
        title: Security policy of the project.
        description: |
          This corresponds to the
          [`SECURITY`](https://docs.github.com/en/code-security/getting-started/adding-a-security-policy-to-your-repository)
          file in the repository, which is automatically recognized by GitHub,
          and displayed on the repository's homepage,
          as well as when users want to create a new issue or security advisory. 

          This file is used to communicate how security vulnerabilities are handled in the project,
          and may include information on how to report security vulnerabilities,
          how they are triaged, and how they are resolved.
          We recommend to keep this file short,
          and only include links to resources on the project's website,
          as to avoid duplication of content.
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: |
              Path to the
              [`SECURITY`](https://docs.github.com/en/code-security/getting-started/adding-a-security-policy-to-your-repository)
              file.
            description: |
              This file must be named `SECURITY` (case-sensitive)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository. 
              It can have the extensions `.txt`, `.md`, or `.rst` (case-insensitive).
            type: string
            pattern: ^(?:|.github/|docs/)SECURITY(?i:.(txt|md|rst))?$
            default: SECURITY.md
            examples:
              - SECURITY
              - SECURITY.md
              - docs/SECURITY.txt
              - .github/SECURITY.md
          content:
            title: Content of the `SECURITY` file.
            type: string
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      support:
        title: Support resources of the project.
        description: |
          This corresponds to the [`SUPPORT`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/adding-support-resources-to-your-project)
          file in the repository, which is automatically recognized by GitHub,
          and displayed on the repository's homepage,
          as well as when users are creating a new issue.

          This file is used to communicate how users can get support for the project,
          and may include information on how to ask questions, report issues, and request features.
          We recommend to keep this file short,
          and only include links to resources on the project's website,
          as to avoid duplication of content.
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: Support Policy
            description: |
              Path to the
              [`SUPPORT`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/adding-support-resources-to-your-project)
              file (cf. [`doc.support`](#cc.doc.support)).

              This file must be named `SUPPORT` (case-sensitive)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository. 
              It can have the extensions `.txt`, `.md`, or `.rst` (case-insensitive).
            type: string
            pattern: ^(?:|.github/|docs/)SUPPORT(?i:.(txt|md|rst))?$
            default: SUPPORT.md
            examples:
              - SUPPORT
              - SUPPORT.md
              - docs/SUPPORT.txt
              - .github/SUPPORT.md
          content:
            title: Content of the `SUPPORT` file.
            type: string
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      code_of_conduct:
        title: Code of conduct of the project.
        description: |
          This corresponds to the
          [`CODE_OF_CONDUCT`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/adding-a-code-of-conduct-to-your-project)
          file in the repository, which is automatically recognized by GitHub,
          and displayed on the repository's homepage,
          as well as when users are creating a new issue or opening a pull request.
          However, for "Code of conduct" to be marked as complete in the repository's community profile,
          GitHub only accepts the
          [Contributor Covenant](https://www.contributor-covenant.org/version/2/0/code_of_conduct.html)
          and the [Citizen Code of Conduct](http://stumptownsyndicate.org/).

          This file is used to communicate the standards of behavior expected from contributors,
          and may include information on how to report violations, how they are triaged,
          and how they are resolved.
        properties:
          path:
            title: |
              Path to the
              [`CODE_OF_CONDUCT`](https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/adding-a-code-of-conduct-to-your-project)
              file.
            description: |
              This file must be named `CODE_OF_CONDUCT` (case-sensitive)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository.
              It can have the extensions `.txt`, `.md`, or `.rst` (case-insensitive).
            type: string
            pattern: ^(?:|.github/|docs/)CODE_OF_CONDUCT(?i:.(txt|md|rst))?$
            default: CODE_OF_CONDUCT.md
            examples:
              - CODE_OF_CONDUCT
              - CODE_OF_CONDUCT.md
              - docs/CODE_OF_CONDUCT.txt
              - .github/CODE_OF_CONDUCT.MD
          content:
            oneOf:
              - type: string
              - title: Configurations for the Contributor Covenant Code of Conduct.
                type: object
                additionalProperties: false
                required: [ id, contact ]
                properties:
                  id:
                    title: ID of the code of conduct.
                    type: string
                    enum: [ covenant ]
                    default: covenant
                    examples:
                      - covenant
                  contact:
                    title: |
                      Contact information of the maintainer for the code of conduct.
                    type: object
                    default: { }
                    additionalProperties: false
                    required: [ name, url ]
                    examples:
                      - display: ${{ maintainer.code_of_conduct.name.full }}
                        url: ${{ maintainer.code_of_conduct.email.url }}
                    properties:
                      name:
                        title: Display text of the link.
                        type: string
                        examples:
                          - ${{ maintainer.code_of_conduct.name.full }}
                      url:
                        title: URL of the link.
                        description: |
                          For email addresses, use `mailto:`.
                        type: string
                        examples:
                          - ${{ maintainer.code_of_conduct.email.url }}
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      code_owners:
        title: Code owners of the project.
        description: |
        type: object
        default: { }
        additionalProperties: false
        required: [ path ]
        properties:
          path:
            title: |
              Path to the
              [`CODEOWNERS`](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners)
              file.

              This file must be named `CODEOWNERS` (case-sensitive, without extension)
              and placed either in the `.github` directory, the `docs` directory,
              or the root of the repository.
            type: string
            default: .github/CODEOWNERS
            pattern: ^(?:|.github/|docs/)CODEOWNERS$
            examples:
              - CODEOWNERS
              - .github/CODEOWNERS
              - docs/CODEOWNERS
  readme:
    title: README file configurations.
    description: |
      These include README files that are displayed to users on landing pages of
      project's repositories, such as GitHub, PyPI, and Anaconda, as well as
      README files in different directories of the repository providing
      technical information to contributors and reviewers.

      :::{admonition} Supported Syntax
      :class: dropdown info

      [GitHub](https://docs.github.com/en/get-started/writing-on-github),
      PyPI, and Anaconda.org all support markup languages such as Markdown and reStructuredText
      for defining the contents of files.
      That is, when the file extension is in a supported format (e.g., `.md`, `.rst`),
      the contents are rendered as HTML on the respective platforms.
      However, GitHub only allows [GitHub Flavored Markdown](https://github.github.com/gfm/) syntax,
      and performs additional post-processing and sanitization after rendering the contents to HTML,
      due to security concerns. This means that only a 
      [limited subset of HTML features](https://docs.github.com/en/get-started/writing-on-github)
      are supported.
      Like GitHub, PyPI and Anaconda also impose several restrictions
      and perform additional post-processing and sanitization.
      PyPI uses the [Readme Renderer](https://github.com/pypa/readme_renderer) library
      to render the README file, which only supports a
      [limited subset of HTML tags](https://github.com/pypa/readme_renderer/blob/9c2eb81301bc230f2795cf7e6dc2c23f5815ea41/readme_renderer/clean.py#L20-L31)
      and [attributes](https://github.com/pypa/readme_renderer/blob/9c2eb81301bc230f2795cf7e6dc2c23f5815ea41/readme_renderer/clean.py#L33-L65).
      Since these do not completely overlap with the features supported by GitHub,
      a separate [PyPI-friendly README](https://packaging.python.org/en/latest/guides/making-a-pypi-friendly-readme/)
      must be provided for PyPI, to ensure that the contents are correctly rendered on the package index.
      :::
    type: object
    additionalProperties: false
    properties:
      github:
        title: |
          Main [`README`](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-readmes)
          file of the GitHub repository.
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: Filepath
            description: |
              Path to the README file.

              It must be named `README` (case-sensitive) and placed either in the
              `.github` directory, the `docs` directory, or the root of the repository,
              and can have the extensions `.txt`, `.md`, or `.rst` (case-insensitive).
              If more than one of such files are present, the order of precedence is
              `.github`, then root, and finally the `docs` directory.
            type: string
            pattern: ^(?:|.github/|docs/)README(?i:.(txt|md|rst))?$
            default: README.md
            examples:
              - README
              - README.md
              - .github/README.txt
              - docs/README.rst
          content:
            oneOf:
              - type: string
              - $ref: '#/definitions/readme_theme/pypackit/main'
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      pypi:
        title: README file of the PyPI/TestPyPI package.
        description: |
          `readme` metadata of your package
          (formerly known as `long_description`)
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: Path to the PyPI README file.
            type: string
            examples:
              - ${{ dir.pkg.source }}/README_PYPI.md
              - README_PYPI.md
          content:
            oneOf:
              - type: string
              - $ref: '#/definitions/readme_theme/pypackit/main'
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      conda:
        title: README file of the Conda package.
        type: object
        additionalProperties: false
        required: [ path, content, footer ]
        properties:
          path:
            title: Path to the Conda README file.
            type: string
            examples:
              - ${{ dir.pkg.source }}/README_CONDA.md
              - README_CONDA.md
          content:
            oneOf:
              - type: string
              - $ref: '#/definitions/readme_theme/pypackit/main'
          footer:
            title: Whether to include a footer.
            type: boolean
            default: true
      dir:
        title: Directory READMEs
        description: |
          Configurations for README files in different directories of the repository.
          For each readme file, add a key-value pair where the key is the path to the directory.
        type: object
        additionalProperties:
          title: Configuration for a directory README file.
          type: object
          additionalProperties: false
          required: [ content, footer ]
          properties:
            content:
              title: Content of the directory README file.
              type: string
            footer:
              title: Whether to include a footer.
              type: boolean
              default: true

  web:
    title: Configurations for the project's website.
    type: object
    additionalProperties: false
    required: [ sphinx ]
    properties:
      sphinx:
        title: Configurations for the Sphinx website generator.
        description: |
          These are the [same key-value pairs](https://www.sphinx-doc.org/en/master/usage/configuration.html)
          that can be added to the `conf.py` file of a Sphinx project.
          They are automatically added to `conf.py` file during the website build process.
          Note that not all keys are explicitly listed in the schema,
          but any valid key can still be added here. However, there are some exceptions:
          - [`extensions`](https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-extensions)
            are automatically added based on the definitions in [`extension`](#cc.web.extension),
            and should not be set here.
        type: object
        additionalProperties: false
        required: [ dependency ]
        properties:
          dependency:
            $ref: dependency
          config:
            type: object
            additionalProperties: true
            properties:
              project:
                title: Name of the project.
                type: string
                default: ${{ name }}
              author:
                title: Author(s) of the project.
                type: string
                default: ${{ team.owner.name.full }}
              project_copyright:
                title: Copyright notice of the project.
                type: string
                default: ${{ copyright.notice }}
              version:
                title: Public (`major.minor`) version of the project.
                description: |
                  When not set (recommended),
                  this is determined at build time from the latest
                  [version tag](#cc.tag.version) in the branch.
                type: string
                default_auto: determined from git tags
              release:
                title: Full version of the project.
                description: |
                  When not set (recommended),
                  this is determined at build time from the latest
                  [version tag](#cc.tag.version) in the branch.
                type: string
                default_auto: determined from git tags
              needs_sphinx:
                title: Minimum supported version of Sphinx.
                description: |
                  The version must be in the form of `major.minor`,
                  where `major` and `minor` are integers.
                  This is automatically determined from the [`dependency`](#cc.web.sphinx.dependency) definition.
                type: string
                default_auto: determined from dependency definition
              today_fmt:
                title: Format of the current date.
                type: string
                default: '%b %d, %Y'
              numfig:
                title: Numbering of figures.
                type: boolean
                default: false
              numfig_format:
                title: |
                  Format of the figure numbering
                  ([ref](https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-numfig_format)).
                type: object
                properties:
                  code-block:
                    title: Format of code block numbering.
                    type: string
                    default: 'Listing %s'
                  figure:
                    title: Format of figure numbering.
                    type: string
                    default: 'Fig. %s'
                  section:
                    title: Format of section numbering.
                    type: string
                    default: 'Section %s'
                  table:
                    title: Format of table numbering.
                    type: string
                    default: 'Table %s'
              html_static_path:
                title: Paths to static files.
                description: |
                  Paths that do not start with a `/` are relative to the website's `source` directory.
                type: array
                items:
                  type: string
              html_css_files:
                title: Paths to CSS files.
                description: |
                  Any `.css` or `.css_t` file in a directory named `css`
                  directly under the first defined path in `html_static_path`
                  will be automatically added to this list, if not already defined here.
                type: array
                items:
                  type: string
              html_js_files:
                title: Paths to JavaScript files.
                description: |
                  Any `.js` or `.js_t` file in a directory named `js`
                  directly under the first defined path in `html_static_path`
                  will be automatically added to this list, if not already defined here.
                type: array
                items:
                  type: string
              latex_engine:
                title: LaTeX engine to use.
                description: |
                  * https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-latex-output
                  * https://www.sphinx-doc.org/en/master/latex.html
                type: string
                enum: [ pdflatex, xelatex, lualatex, platex, uplatex ]
                default: 'pdflatex'
              latex_show_pagerefs:
                title: Show page references in LaTeX output.
                type: boolean
                default: true
              latex_show_urls:
                title: Show URLs in LaTeX output.
                type: string
                enum: [ no, inline, footnotes ]
                default: 'footnote'
              latex_theme:
                title: LaTeX theme to use.
                type: string
                enum: [ manual, howto ]
                default: manual
          extension:
            title: Internal Sphinx extensions to be added.
            description: |
              All information about Sphinx internal extensions are added here.
              These are used to add the [`extensions`](https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-extensions)
              key and each extension's configurations to the `conf.py` file.
            type: object
            additionalProperties:
              type: object
              required: [ dependency ]
              properties:
                dependency:
                  title: Extension information.
                  description: |
                    The `import_name` must be the name of the extension as it is imported in Python,
                    i.e., what's added to the `extensions` list in the `conf.py` file.
                  $ref: module_dependency
                config:
                  title: Configuration to be added to the Sphinx configuration.
                  type: object
                  additionalProperties: true
      theme:
        title: Theme of the website.
        type: object
        additionalProperties: false
        required: [ dependency ]
        properties:
          dependency:
            title: Name of the theme.
            oneOf:
              - $ref: dependency
              - $ref: module_dependency
          config:
            title: Configuration options for the theme.
            type: object
            additionalProperties: true
      extension:
        title: Extensions to be added to the Sphinx configuration.
        description: |
          All information about extensions, including dependencies and configurations, are added here.
          These are used to add the [`extensions`](https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-extensions)
          key and each extension's configurations to the `conf.py` file.
          They are also used to create the `requirements.txt` and `env.yaml`
          files for the website build environment.
        type: object
        additionalProperties:
          type: object
          properties:
            dependency:
              title: Dependency to be installed.
              $ref: dependency
            config:
              title: Configuration to be added to the Sphinx configuration.
              type: object
              additionalProperties: true
      page:
        title: Paths to important pages on the website.
        description:
          All paths must be relative to the root of the website directory, without suffix.
        type: object
        default: { }
        required: [ blog ]
        additionalProperties:
          title: Relative path to the page.
          type: string
          examples:
            - about/license
            - help/contact

        properties:
          blog:
            title: Path to the website's blog directory.
            type: string
            default: news
          sections:
            title: Paths to main sections of the website.
            description: |
              This is automatically generated from the `toctree` of the website's main `index` file.
            type: array
            uniqueItems: true
            items:
              title: A main section of the website.
              $ref: "#/definitions/web_section"
              web_section:
                title: Section
                description: A (sub)section of the website.
                type: object
                additionalProperties: false
                properties:
                  title:
                    title: Section Title
                    description: Title of the section.
                    type: string
                    examples:
                      - Introduction
                      - User Manual
                      - Installation
                  path:
                    title: Section Path
                    description: Relative path to the section.
                    type: string
                    examples:
                      - intro
                      - intro/index
                      - user-manual
                      - user-manual/installation/index
          subsections:
            title: Paths to subsections of the website, i.e., level-2 sections.
            description: |
              This is automatically generated from the `toctree` of the website's main `index` file,
              and the `tocree`s of files listed there.
            type: array
            uniqueItems: true
            items:
              title: Subsections of a specific section of the website.
              type: object
              additionalProperties: false
              properties:
                section_title:
                  title: Title of the main section.
                  type: string
                  examples:
                    - User Manual
                    - Installation
                subsections:
                  title: Paths to subsections of the main section.
                  type: array
                  uniqueItems: true
                  items:
                    title: A subsection of the main section.
                    $ref: "#/definitions/web_section"
      env:
        title: Environment file configurations.
        type: object
        additionalProperties: false
        required: [ file ]
        properties:
          dependency:
            type: object
            minProperties: 1
            additionalProperties:
              $ref: dependency
          file:
            $ref: env_file_config
      url:
        title: Website URLs.
        type: object
        default: { }
        properties:
          cname:
            title: Custom domain (cname) for the website.
            description: |
              Custom domain of the website, if available.
              Setting this will automatically deploy the GitHub Pages website to the given domain,
              instead of the default GitHub Pages domain.
              To learn more about configuring a custom domain with your DNS provider,
              see [GitHub's documentation](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site).
            type: string
            format: uri
            examples:
              - example.com
              - www.example.com
              - subdomain.example.com
          base:
            title: Base URL of the website.
            description: |
              If not set, this will be set to `https://${{ web.url.cname }}` if specified,
              or the default GitHub Pages domain,
              which is `https://${{ team.owner.github.user }}.github.io/${{ repo.name }}`,
              unless the repository is for a
              [user page](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme)
              (i.e., named `${{ team.owner.github.user }}.github.io`),
              in which case the base URL is set to `https://${{ team.owner.github.user }}.github.io`.
            type: string
            format: uri
            examples:
              - 'https://${{ repo.info.owner.login }}.github.io'
          home:
            title: Homepage URL of the website.
            description: |
              This should point to the main landing page (i.e., `index` file) of the website.
              If not set, this will be set to the base URL.
            type: string
            format: uri
            default: ${{ web.url.base }}
            examples:
              - ${{ web.url.base }}/some/path
            $ref: '#/definitions/url'
definitions:
  sphinx_theme:
    pydata:
      type: object
      additionalProperties: false
      properties:
        html_theme_options:
          type: object
          properties:
            analytics:
              title: |
                [Configurations](https://pydata-sphinx-theme.readthedocs.io/en/stable/user_guide/analytics.html)
                of web analytics services.
              type: object
              additionalProperties: false
              properties:
                google_analytics_id:
                  title: Google Analytics ID
                  type: string
                plausible_analytics_domain:
                  title: Domain for Plausible Analytics
                  type: string
                plausible_analytics_url:
                  title: URL for Plausible Analytics
                  $ref: 'defs#/definitions/url'
              anyOf:
                - required: [ google_analytics_id ]
                - required: [ plausible_analytics_domain, plausible_analytics_url ]
            icon_links:
              title: Icons to be shown in the navigation bar of the website.
              type: array
              uniqueItems: true
              items:
                type: object
                additionalProperties: false
                required: [ name, icon, url, type ]
                examples:
                  - name: Conda Distribution
                    icon: fa-custom fa-conda
                    url: ${{ pkg.conda.url.home }}
                  - name: Email
                    icon: fa-regular fa-envelope
                    url: ${{ team.owner.email.url }}
                  - name: Twitter
                    icon: fa-brands fa-twitter
                    url: ${{ team.owner.twitter.url }}
                  - name: LinkedIn
                    icon: fa-brands fa-linkedin
                    url: ${{ team.owner.linkedin.url }}
                  - name: ResearchGate
                    icon: fa-brands fa-researchgate
                    url: ${{ team.owner.researchgate.url }}
                  - name: ORCiD
                    icon: fa-brands fa-orcid
                    url: ${{ team.owner.orcid.url }}
                properties:
                  name:
                    title: Label for the icon.
                    description: |
                      This is the HTML `title` attribute,
                      i.e., the text that appears when hovering over the icon.
                    type: string
                  url:
                    title: Link of the icon.
                    description: |
                      This is the URL that the icon will link to.
                    type: string
                    $ref: url
                  type:
                    title: Type of the icon.
                    type: string
                    enum: [ fontawesome, url, local ]
                    default: fontawesome
                  icon:
                    title: Icon definition.
                    description: |
                      Depending on `type`, this must be either
                      a Font Awesome icon class (e.g., `fa-brands fa-twitter`),
                      a URL to an image file (e.g., `https://example.com/icon.png`),
                      or a path to a local image file (e.g., `img/icon.png`).
                    type: string
                  attributes:
                    type: object
            quicklinks:
              title: Quicklinks for the navbar.
              type: array
              uniqueItems: true
              default: ${{ path.web.subsections }}
              items:
                type: object
                additionalProperties: false
                required: [ title, entries ]
                properties:
                  section_title:
                    type: string
                  subsections:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      type: object
                      additionalProperties: false
                      required: [ title, path ]
                      properties:
                        title:
                          type: string
                        path:
                          type: string
  readme_theme:
    pypackit:
      main:
        description: Configurations for the PyPackIT README theme.
        additionalProperties: false
        required: [ id ]
        properties:
          id:
            title: ID of the theme.
            type: string
            const: pypackit
          header:
            title: Header configurations.
            $ref: '#/definitions/readme_theme/pypackit/header/main'
          body:
            title: Body configurations.
            $ref: '#/definitions/readme_theme/pypackit/body/main'
          badge:
            title: General badge configurations.
            description: |
              Settings here will be used as the default value for all badges in the theme.
            $ref: '#/definitions/badge/normal'
      header:
        main:
          type: object
          default: { }
          additionalProperties: false
          properties:
            style:
              type: string
              enum: [ horizontal, vertical ]
              default: vertical
            logo:
              allOf:
                - $ref: '#/definitions/html/attrs'
                - required: [ src ]
                  properties:
                    src:
                      type: object
                      additionalProperties: false
                      required: [ light ]
                      properties:
                        light:
                          $ref: url
                        dark:
                          $ref: url
            menu:
              type: object
              additionalProperties: false
              required: [ space ]
              properties:
                style:
                  $ref: '#/definitions/badge_style'
                  default: for-the-badge
                height:
                  title: Height of the buttons in the menu.
                  $ref: '#/definitions/html_height'
                  default: 35px
                space:
                  title: Number of spaces between buttons.
                  $ref: non_negative_integer
                  default: 2
                align:
                  $ref: '#/definitions/html_align'
                  default: center
                color:
                  type: object
                  additionalProperties: false
                  properties:
                    light:
                      default: [ '${{ theme.color.primary.light }}', '${{ theme.color.secondary.light }}' ]
                      oneOf:
                        - $ref: '#/definitions/hex_color'
                        - $ref: '#/definitions/hex_color_grad'
                    dark:
                      default: [ '${{ theme.color.primary.dark }}', '${{ theme.color.secondary.dark }}' ]
                      oneOf:
                        - $ref: '#/definitions/hex_color'
                        - $ref: '#/definitions/hex_color_grad'
                top:
                  $ref: '#/definitions/readme_theme/pypackit/header/menu'
                bottom:
                  $ref: '#/definitions/readme_theme/pypackit/header/menu'
        menu:
          type: object
          additionalProperties: false
          properties:
            buttons:
              type: array
              items:
                $ref: '#/definitions/badge/button'
      body:
        main:
          type: object
          default: { }
          additionalProperties: false
          properties:
            heading:
              title: Configurations for headings.
              type: object
              properties:
                h2:
                  title: Configurations for level-2 headings.
                  $ref: '#/definitions/readme_theme/pypackit/body/heading'
                h3:
                  title: Configurations for level-3 headings.
                  $ref: '#/definitions/readme_theme/pypackit/body/heading'
                h4:
                  title: Configurations for level-4 headings.
                  $ref: '#/definitions/readme_theme/pypackit/body/heading'
                h5:
                  title: Configurations for level-5 headings.
                  $ref: '#/definitions/readme_theme/pypackit/body/heading'
                h6:
                  title: Configurations for level-6 headings.
                  $ref: '#/definitions/readme_theme/pypackit/body/heading'
            sections:
              type: array
              items:
                type: object
                additionalProperties: false
                required: [ type, config ]
                properties:
                  heading:
                    allOf:
                      - $ref: '#/definitions/readme_theme/pypackit/body/heading'
                      - required: [ level ]
                        properties:
                          level:
                            type: integer
                            minimum: 2
                            maximum: 6
                          text:
                            type: string
                  type:
                    type: string
                    enum: [ manual, highlights ]
                    default: manual
                  config:
                    title: Configuration for the section.
                allOf:
                  - if:
                      properties:
                        type:
                          const: manual
                    then:
                      properties:
                        config:
                          type: string
        heading:
          title: Body headings configurations.
          type: object
          additionalProperties: false
          properties:
            type:
              type: string
              enum: [ text, button ]
            config:
              title: Configuration for the heading.
          if:
            properties:
              type:
                const: text
          then:
            properties:
              config:
                $ref: '#/definitions/html/attrs'
          else:
            properties:
              config:
                $ref: '#/definitions/badge/button'
      footer:
        description: Footer configurations for PyPackIT theme.
        type: object
        additionalProperties: false
        required: [ id, project, license, pypackit ]
        properties:
          id:
            title: ID of the footer theme.
            type: string
            const: pypackit
          project:
            title: Project badge.
            $ref: '#/definitions/badge/static'
            default:
              label:
                text: ${{ name }}
              message:
                text: ©${{ copyright.notice }}
                color:
                  light: ${{ theme.color.primary.light }}"
                  dark: ${{ theme.color.primary.dark }}
              logo:
                light:
                  type: path
                  src: ${{ dir.media }}/${{ theme.logo.icon }}
                dark:
                  type: path
                  src: ${{ dir.media }}/${{ theme.logo.icon }}
              href: ${{ web.url.home }}
              title: '${{ name }}: ${{ copyright.notice }}'
              alt: ${{ name }}
          license:
            title: License badge.
            $ref: '#/definitions/badge/static'
            default:
              label:
                text: License
              message:
                text: ${{ license.id }}
              color:
                light: ${{ theme.color.secondary.light }}
                dark: ${{ theme.color.secondary.dark }}
              href: ${{ repo.url.license }}"
              alt: ${{ license.name }}
              title: ${{ name }} is licensed under the ${{ license.name }}
          pypackit:
            title: Whether to show the PyPackIT badge.
            type: boolean
            default: true
          badge:
            title: General badge configurations.
            description: |
              Any settings here will be used as the default value for all footer badges.
            $ref: '#/definitions/badge/normal'
            default:
              style: for-the-badge
  badge:
    static:
      allOf:
        - $ref: '#/definitions/badge/normal'
        - additionalProperties: false
          required: [ message ]
          properties:
            message:
              required: [ text ]
    normal:
      allOf:
        - $ref: '#/definitions/badge/settings'
        - properties:
            label:
              type: object
              additionalProperties: false
              properties:
                text:
                  type: string
                color:
                  $ref: '#/definitions/color/theme'
    button:
      allOf:
        - $ref: '#/definitions/html/attrs'
        - $ref: '#/definitions/badge/settings'
        - required: [ message, href ]
          properties:
            message:
              required: [ text ]
    settings:
      properties:
        style:
          $ref: '#/definitions/badge/style'
        message:
          type: object
          additionalProperties: false
          properties:
            text:
              type: str
            color:
              $ref: '#/definitions/color/theme'
        logo:
          type: object
          additionalProperties: false
          required: [ light ]
          properties:
            light:
              $ref: '#/definitions/badge/logo'
            dark:
              $ref: '#/definitions/badge/logo'
            size:
              type: string
              enum: [ "auto" ]
            width:
              type: string
    logo:
      title: Badge logo.
      type: object
      additionalProperties: false
      required: [ type, value ]
      properties:
        type:
          title: Type of data.
          type: string
          enum: [ path, url, data, name ]
        src:
          title: Source of data.
          type: string
        ext:
          title: Data type, i.e., file extension.
          type: string
          enum: [ apng, avif, bmp, gif, ico, jpg, jpeg, png, svg, tif, tiff, webp ]
        color:
          title: Logo color.
          $ref: '#/definitions/color/hex'
    style:
      title: Badge style.
      type: string
      enum: [ "flat", "flat-square", "plastic", "for-the-badge", "social" ]
  html:
    attrs:
      type: object
      properties:
        href:
          type: string
        alt:
          type: string
        title:
          type: string
        width:
          type: string
        height:
          $ref: '#/definitions/html/height'
        align:
          $ref: '#/definitions/html/align'
    align:
      type: string
      enum: [ left, center, right ]
    height:
      title: Height of an HTML element.
      type: string
      pattern: ^\d+(px|em|rem|%)$
  color:
    theme:
      title: Light/dark theme color configurations.
      type: object
      additionalProperties: false
      required: [ light ]
      properties:
        light:
          title: Light Color
          description: Color of the element for light themes.
          $ref: '#/definitions/color/hex'
        dark:
          title: Dark Color
          description: Color of the element for dark themes.
          $ref: '#/definitions/color/hex'
    grad:
      title: Color gradient between two colors.
      type: array
      minItems: 2
      maxItems: 2
      items:
        $ref: '#/definitions/color/hex'
    hex:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: A hexadecimal color code.
      type: string
      pattern: ^[0-9a-fA-F]{6}$
      examples:
        - 'ff0000'
        - '00ff00'
        - '0000ff'
